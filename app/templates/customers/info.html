{% if customer.first_name %}
<div class="mb-1"><strong>Name:</strong> {{ customer.first_name }} {{ customer.last_name }}</div>
{% endif %}


{% if customer.user_id %}
<div class="mb-1"><strong>User ID:</strong> {{ customer.user_id }}</div>
{% endif %}

{% if customer.email %}
<div class="mb-1"><strong>Email:</strong> {{ customer.email }}</div>
{% endif %}

{% if customer.comment %}
<div class="mb-1"><strong>Comment:</strong> {{ customer.comment }}</div>
{% endif %}

{% if customer.phone %}
<div class="mb-1"><strong>Phone:</strong> {{ customer.phone }}</div>
{% endif %}

{% if customer.location %}
<div class="mb-1"><strong>Location:</strong> {{ customer.location }}</div>
{% endif %}

{% if customer.caller is not none %}
<div class="mb-1"><strong>Caller:</strong> {{ customer.caller.name }}</div>
{% endif %}

{% if customer.sub_caller %}
<div class="mb-1"><strong>Sub Caller:</strong> {{ customer.sub_caller }}</div>
{% endif %}

{% if customer.personality_type is not none %}
  <div class="mb-1">
    <strong>Personality Type:</strong>
    {{ personalities_map[customer.personality_type].name }}
  </div>
{% endif %}


{% if customer.categories %}
  <div class="mb-1">
    <strong>Categories:</strong>
    {# Build a list of item names using the lookup #}
    {% set item_names = [] %}
    {% for iid in customer.categories %}
      {% if iid in categories_map %}
        {% set _ = item_names.append(categories_map[iid].name) %}
      {% endif %}
    {% endfor %}
    {{ item_names | join(', ') }}
  </div>
{% endif %}

{% if customer.organisations %}

  <div class="mb-1">
    <strong>Organisations:</strong>
{% set org_names = [] %}
{% for oid in customer.organisations %}
  {% set int_oid = oid | int %}
  {% if int_oid in organisations_map %}
    {% set _ = org_names.append(organisations_map[int_oid]) %}
  {% endif %}
{% endfor %}
{{ org_names | join(', ') }}
  </div>
{% endif %}

{% if customer.tags %}
<div class="mb-1"><strong>Tags:</strong> {{ customer.tags }}</div>
{% endif %}

